summary: Loan Foreclosure
details:
  - description: Detailed process for loan forclosure
    mermaid: >-
      sequenceDiagram
        participant Borrower Platform (BAP)
        participant Lender Platform (BPP)
        Lender Platform (BPP)->>Borrower Platform (BAP):on_confirm
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
        Borrower Platform (BAP)->>Lender Platform (BPP): update-Request
        Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
        Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
        Borrower Platform (BAP)-->>Lender Platform (BPP): ACK

references: if any
filepath: "./loan-foreclouser.yaml"
steps:
  - summary: The lender confirms the loan order.
    api: on_confirm
    details:
      - description: The lender platform confirms the invoice based loan order and provides the final confirmation details.
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_confirm
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end
            Borrower Platform (BAP)->>Lender Platform (BPP): update-Request
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
    reference: if any
    example:
      value:
        $ref: "../../examples/invoice-based-loans/on_confirm/on_confirm-request.yaml"

  - summary: The borrower (BAP) sends the update request by sending the order ID.
    api: update
    details:
      - description: The borrower (BAP) sends the update request by sending the order ID to be updated along with the object in the order to be updated as update_target.
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_confirm
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            rect rgb(191, 223, 255)
            Borrower Platform (BAP)->>Lender Platform (BPP): update-Request
            Lender Platform (BPP)-->>Borrower Platform (BAP):ACK
            end
    reference: if any
    example:
      value:
        $ref: "../../examples/invoice-based-loans/update/update-request-foreclosuer.yaml"
  - summary: The provider platform updates the consumer.
    api: on_update
    details:
      - description: The provider platform updates the consumer with on_update request response.
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
    reference: if any
    example:
      value:
        $ref: "../../examples/invoice-based-loans/on_update/on_update-request-forclosuer.yaml"
  - summary: The provider platform updates the consumer with loan forclosure success.
    api: on_update
    details:
      - description: The provider platform updates the consumer with on_update success response.
        mermaid: >-
          sequenceDiagram
            participant Borrower Platform (BAP)
            participant Lender Platform (BPP)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update request
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            rect rgb(191, 223, 255)
            Lender Platform (BPP)->>Borrower Platform (BAP):on_update - Update success
            Borrower Platform (BAP)-->>Lender Platform (BPP): ACK
            end

    reference: if any
    example:
      value:
        $ref: "../../examples/invoice-based-loans/on_update/on_update-request-forclosuer-success.yaml"
