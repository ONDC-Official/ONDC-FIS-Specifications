summary: Withdrawal-Mutual funds
details:
  - description: Detailed process of withdrawing mutual funds
    mermaid: >-
      sequenceDiagram
        Participant Investment Platform
        Participant Fund Aggregator / Direct Fund
        Fund Aggregator / Direct Fund ->>  Investment Platform : on_confirm
        Investment Platform -->> Fund Aggregator / Direct Fund: ACK
        Investment Platform ->> Fund Aggregator / Direct Fund: status
        Fund Aggregator / Direct Fund -->>  Investment Platform : ACK
        Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
        Investment Platform -->> Fund Aggregator / Direct Fund: ACK
        Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
        Investment Platform -->> Fund Aggregator / Direct Fund: ACK
        Investment Platform ->> Fund Aggregator / Direct Fund: update
        Fund Aggregator / Direct Fund -->>  Investment Platform : ACK
        Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
        Investment Platform -->> Fund Aggregator / Direct Fund: ACk

steps:
  - summary: Insurer confirms the  order & provides the withdrawal form URL for you mutual funds.
    api: on_confirm
    details:
      - description: Insurer confirms the  order & provides the withdrawal form URL for you mutual funds.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_confirm
            end
            Investment Platform ->> Fund Aggregator / Direct Fund: status
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
    reference: if any
    example:
      value:
        $ref: "../../examples/mutual-funds/on_confirm/on_confirm-request-sip.yaml"
  - summary: Request real-time updates on the status of your Mutual Fund investment.
    api: status
    details:
      - description: Request the most recent updates regarding the status of your invested Mutual Fund, ensuring you stay informed about its progress.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_confirm
            rect rgb(191, 223, 255)
            Investment Platform ->> Fund Aggregator / Direct Fund: status
            end
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
    reference: if any
    example:
      value:
        $ref: "../../examples/mutual-funds/status/status-request.yaml" 
  - summary: Receive real-time updates on your Mutual Fund investment after each milestone.
    api: on_status
    details:
      - description: Provider sends timely updates about your Mutual Fund investment after significant milestones, ensuring you're informed throughout the investment journey.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_confirm
            Investment Platform ->> Fund Aggregator / Direct Fund: status
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
            end
    example:
      value:
        $ref: "../../examples/mutual-funds/on_status/on_status-request-pre-withdrawal.yaml" 
         
            




  - summary: Buyer app redirected to withdrawal url page.
    api: redirect
    details:
      - description: Buyer app will be redirect to new page using using the link provided in the previous step
    reference: if any
    example:
      value:
        $ref: "../../examples/mutual-funds/forms/mutual-funds-withdrawal-page.html" 
  - summary: Receive real-time updated order details.
    api: on_update
    details:
      - description: Provider sends the order details to the Consumer with updated info
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
            end
            Fund Aggregator / Direct Fund ->>  Investment Platform : form (Account Info)
    example:
      value:
        $ref: "../../examples/mutual-funds/on_update/on_update-request-withdraw-amount.yaml"
  - summary: Get the Mutual fund account info form
    api: form
    details:
      - description: Provider platform sends the Mutual fund account info form.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : form (Account Info)
            end
    reference: if any
    example:
      value: 
        $ref: ../../examples/mutual-funds/forms/mutual-funds-account-info.html
  - summary: Request to update bank account info
    api: update
    details:
      - description: Request to update bank account info.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            rect rgb(191, 223, 255)
            Investment Platform ->> Fund Aggregator / Direct Fund: update
            end
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
    reference: if any
    example:
      value:
        $ref: "../../examples/mutual-funds/update/update-request-bank-info.yaml"                          
  - summary: Receive real-time updated order details.
    api: on_update
    details:
      - description: Provider sends the order details to the Consumer with updated info
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            Investment Platform ->> Fund Aggregator / Direct Fund: update
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_update
            end
    example:
      value:
        $ref: "../../examples/mutual-funds/on_update/on_update-request-withdrawal-confirm.yaml"
  - summary: Request real-time updates on the status of your Mutual Fund investment.
    api: status
    details:
      - description: Request the most recent updates regarding the status of your invested Mutual Fund, ensuring you stay informed about its progress.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            rect rgb(191, 223, 255)
            Investment Platform ->> Fund Aggregator / Direct Fund: status
            end
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
    reference: if any
    example:
      value:
        $ref: "../../examples/mutual-funds/status/status-request.yaml" 
  - summary: Receive real-time updates on your Mutual Fund investment after each milestone.
    api: on_status
    details:
      - description: Provider sends timely updates about your Mutual Fund investment after significant milestones, ensuring you're informed throughout the investment journey.
        mermaid: >-
          sequenceDiagram
            Participant Investment Platform
            Participant Fund Aggregator / Direct Fund
            Investment Platform ->> Fund Aggregator / Direct Fund: status
            rect rgb(191, 223, 255)
            Fund Aggregator / Direct Fund ->>  Investment Platform : on_status
            end
    example:
      value:
        $ref: "../../examples/mutual-funds/on_status/on_status-request-sip-withdraw.yaml" 
         
            
